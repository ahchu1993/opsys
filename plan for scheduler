Xv6 is already set the timer for you. 

First, you should have a priority attribute in the proc structure (in the proc.h). 

Then you need to modify the scheduler() function in the proc.c file. 

The default scheduler is round-robin. Now you need to change it to find a highest priority, if there is a higher priority process, 
kernel should pick that process to run. If every processes' priority are same, then the scheduler would be back to round-robin scheduler. 
 
Best
Songwei Jin
